(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{B:()=>w});var t=document.querySelector(".gallery"),n=document.getElementById("gallery__template").content.querySelector(".gallery__item");function o(e,t){var o=n.cloneNode(!0),r=o.querySelector(".gallery__photo"),u=o.querySelector(".gallery__caption");r.src=t,u.textContent=e,r.alt=e;var c=o.querySelector(".gallery__delete-button"),l=o.querySelector(".gellary__like-button"),a=o.querySelector(".gallery__photo-button");return c.addEventListener("click",(function(){return o.remove(),void console.log("I've been deleted")})),l.addEventListener("click",(function(){return o.querySelector(".gellary__like-button").classList.toggle("gellary__like-button_active"),void console.log("I've been liked")})),a.addEventListener("click",(function(){return w(e,t)})),o}function r(e){e.classList.add("popup_opened"),e.classList.remove("preload"),document.addEventListener("keydown",c),console.log("I've been clicked")}function u(e){e.classList.remove("popup_opened"),document.removeEventListener("keydown",c),console.log("I've been closed")}function c(e){"Escape"===e.key&&u(document.querySelector(".popup_opened"))}function l(e,t){var n="error-".concat(e.id),o=document.getElementById(n);e.classList.remove(t.inputErrorClass),o.textContent=""}function a(e,t){t.checkValidity()?function(e){e.disabled=!1}(e):i(e)}function i(e){e.disabled=!0}[{name:"Пушкин",link:"https://nastyanpictures1.s3.eu-north-1.amazonaws.com/Pushkin.jpg"},{name:"Рускеала",link:"https://nastyanpictures1.s3.eu-north-1.amazonaws.com/Ruskeala.jpg"},{name:"Санкт-Петербург",link:"https://nastyanpictures1.s3.eu-north-1.amazonaws.com/Saint-P.jpg"},{name:"Тургояк",link:"https://nastyanpictures1.s3.eu-north-1.amazonaws.com/Tyrgoyak.jpg"},{name:"Ульяновск",link:"https://nastyanpictures1.s3.eu-north-1.amazonaws.com/Ulyanovsk.jpg"},{name:"Псков",link:"https://nastyanpictures1.s3.eu-north-1.amazonaws.com/Pskov.jpg"}].forEach((function(e){var n=o(e.name,e.link);t.append(n)}));var p=document.querySelector(".popup__type_edit"),d=document.querySelector(".popup__type_add"),s=document.querySelector(".popup__type_open-photo"),_=document.querySelector(".popup__input_value_name"),y=document.querySelector(".popup__input_value_info"),v=document.querySelector(".profile-header__edit-button"),m=document.querySelector(".profile-header__add-button"),f=document.querySelector(".popup__container_type_add"),S=f.querySelector(".popup__input_value_place"),g=f.querySelector(".popup__input_value_link"),h=s.querySelector(".popup__photo"),k=s.querySelector(".popup__photo-caption"),q=document.querySelector(".profile-header__user-name"),b=document.querySelector(".profile-header__user-description"),E=document.querySelectorAll(".popup");function L(e,t){e.querySelector(".popup__container").addEventListener("submit",(function(n){n.preventDefault(),t(),u(e)}))}function w(e,t){r(s),h.src=t,k.textContent=e,h.alt=e,console.log("I've been wide-opened")}v.addEventListener("click",(function(){r(p),_.value=q.textContent,y.value=b.textContent,l(_,I),l(y,I)})),m.addEventListener("click",(function(){r(d),f.reset(),l(S,I),l(g,I)})),L(p,(function(){q.textContent=_.value,b.textContent=y.value,console.log("I've been saved and edited")})),L(d,(function(){var e=o(S.value,g.value);t.prepend(e),console.log("I've been saved and added")})),E.forEach((function(e){var t;(t=e).querySelector(".popup__button-close").addEventListener("click",(function(){u(t)}))})),E.forEach((function(e){var t;(t=e).querySelector(".popup__background").addEventListener("mousedown",(function(){u(t)}))}));var C,I={formSelector:".form",inputSelector:".popup__input",buttonSelector:".popup__button-save",inputErrorClass:"popup__input_invalid"};C=I,document.querySelectorAll(C.formSelector).forEach((function(e){!function(e,t){var n=e.querySelectorAll(t.inputSelector),o=e.querySelector(t.buttonSelector);a(o,e),console.log("Validity check 1"),n.forEach((function(n){n.addEventListener("input",(function(){(function(e,t){e.validity.valid?l(e,t):function(e,t,n){var o="error-".concat(e.id),r=document.getElementById(o);e.classList.add(t.inputErrorClass),r.textContent=n}(e,t,e.validationMessage)})(n,t),a(o,e),console.log("Validity check 2")}))}))}(e,C)})),document.forms.form2.addEventListener("submit",(function(e){e.preventDefault(),e.target.reset(),i(e.submitter)}))})();